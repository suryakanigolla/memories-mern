(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(21),r=n.n(s),o=n(11),i=n(62),u=n(24),l=n(44),j=n(63),b=n(64),d=n.n(b),p=n(45),O=n(2),m={posts:[],isFetching:!1,isCreatingPost:!1,isUpdatingPost:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FETCH_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:!e.isFetching});case"TOGGLE_CREATE_POST_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isCreatingPost:!e.isCreatingPost});case"TOGGLE_UPDATE_POST_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isUpdatingPost:!e.isUpdatingPost});case"FETCH_POSTS":return Object(O.a)(Object(O.a)({},e),{},{posts:t.payload});case"CREATE_POST":return Object(O.a)(Object(O.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[t.payload])});case"UPDATE_POST":return Object(O.a)(Object(O.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETE_POST":return Object(O.a)(Object(O.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});default:return e}},h={userData:null,token:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return Object(O.a)(Object(O.a)({},e),{},{userData:t.payload.userData,token:t.payload.token});case"LOGOUT":return h;default:return e}},x={key:"root",storage:d.a,whitelist:["posts","auth"]},v=Object(u.b)({posts:f,auth:g}),N=Object(l.a)(x,v),y=Object(u.d)(N,Object(u.c)(Object(u.a)(j.a))),_=Object(l.b)(y),k=n(49),w=n(8),C=n(3),T=n(1),P=["component"],L=function(e){var t=Object(o.c)((function(e){return e.auth.userData})),n=e.component,a=Object(C.a)(e,P);return t?Object(T.jsx)(w.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return Object(T.jsx)(n,Object(O.a)({},e))}})):Object(T.jsx)(w.a,{to:"/"})},E=n(12),S=n.n(E),I=n(19),G=n(9),D=n(135),A=n(68),F=n(39),U=n.n(F),R=n.p+"static/media/google-icon.a45b46e9.svg",M=n(66),q=n.n(M).a.create({baseURL:"http://localhost:5000"});q.interceptors.request.use((function(e){var t=y.getState().auth.token;return console.log(t),t&&(e.headers.Authorization="Bearer ".concat(t)),e})),q.interceptors.response.use((function(e){return e}),(function(e){401===e.status&&y.dispatch({type:"LOGOUT"})}));var H=function(e,t){return q.patch("/posts/".concat(e),t)},B=function(e){return q.delete("/posts/".concat(e))},z=function(e,t){return q.patch("/posts/".concat(e,"/like"),{isLiked:t})},K=function(e){return q.post("/auth/login",e)},J=function(e){return q.post("/auth/register",e)},X=n(46),Y=(n(109),n(110),"success"),Q="error",V=function(e,t){var n={autoClose:5e3,closeOnClick:!0,draggable:!0,hideProgressBar:!1,position:"bottom-center",progress:void 0};t===Q?X.b.error(e,n):t===Y&&X.b.success(e,n)},W=function(){return Object(T.jsx)(X.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1})},Z={email:"",password:"",rememberMe:!1},$={email:!1,password:!1},ee=function(){var e=c.a.useState(Z),t=Object(G.a)(e,2),n=t[0],a=t[1],s=c.a.useState($),r=Object(G.a)(s,2),i=r[0],u=r[1],l=Object(w.g)(),j=Object(o.b)(),b=function(){n.email.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:!0})})),n.password.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:!0})})),i.email||i.password||j(function(e,t){return function(){var n=Object(I.a)(S.a.mark((function n(a){var c,s,r,o;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,K(e);case 3:200===(c=n.sent).status&&(s=c.data,r=s.token,delete s.token,a({type:"AUTH",payload:{userData:s,token:r}}),V("Login Successful",Y),t.push("/home")),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),o="",n.t0.response?o=n.t0.response.data.message:n.t0.request?console.log(n.t0.request):console.log("Error",n.t0.message),V(o.length?o:"Something went wrong",Q);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,l))},d=function(){var e=Object(I.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null===t||void 0===t?void 0:t.profileObj,a=null===t||void 0===t?void 0:t.tokenId,n&&a&&(j({type:"AUTH",payload:{userData:n,token:a}}),V("Login Successful",Y),l.push("/home"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"index-page",children:Object(T.jsxs)(D.a,{className:"index-page-form",children:[Object(T.jsx)("h3",{className:"index-page-form__heading",children:"Login"}),Object(T.jsxs)(D.a.Group,{className:"mb-3 index-page-form__group",controlId:"formEmail",children:[Object(T.jsx)(D.a.Label,{children:"Email"}),Object(T.jsx)(D.a.Control,{type:"text",value:n.email,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{email:e.target.value})}))},isInvalid:i.email})]}),Object(T.jsxs)(D.a.Group,{className:"mb-3 index-page-form__group",controlId:"formPassword",children:[Object(T.jsx)(D.a.Label,{children:"Password"}),Object(T.jsx)(D.a.Control,{type:"password",value:n.password,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{password:e.target.value})}))},isInvalid:i.password})]}),Object(T.jsx)(D.a.Group,{className:"mb-4 d-flex align-items-center justify-content-between",controlId:"formRememberMe",children:Object(T.jsx)("span",{className:"text-bold bg-dark text-light p-1 px-2 cursor-pointer",onClick:function(){l.push("/signup")},children:"Sign Up"})}),Object(T.jsx)(A.a,{variant:"primary",type:"button",className:"w-100 mb-2",onClick:function(){return b()},children:"Login"}),Object(T.jsx)(U.a,{clientId:"863171998753-cvajles56ogr9jqp93jrg0umk5rsk7oh.apps.googleusercontent.com",onSuccess:function(e){return d(e)},onFailure:function(e){return function(e){console.log(e),V(e,Q)}(e)},cookiePolicy:"single_host_origin",render:function(e){return Object(T.jsxs)(A.a,{variant:"secondary",type:"button",className:"w-100 d-flex align-items-center justify-content-center",onClick:e.onClick,disabled:e.disabled,children:[Object(T.jsx)("img",{width:"18px",src:R,alt:"google-icon",className:"mb-0 me-2"}),"Login"]})}})]})})},te=n(128),ne=n(67),ae=n(129),ce={email:"",password:"",passwordConfirm:"",firstName:"",lastName:""},se={email:!1,password:!1,passwordConfirm:!1,firstName:!1,lastName:!1},re=function(){var e=c.a.useState(ce),t=Object(G.a)(e,2),n=t[0],a=t[1],s=c.a.useState(se),r=Object(G.a)(s,2),i=r[0],u=r[1],l=Object(w.g)(),j=Object(o.b)(),b=function(){n.email.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:!0})})),n.password.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:!0})})),n.passwordConfirm.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{passwordConfirm:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{passwordConfirm:!0})})),n.firstName.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{firstName:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{firstName:!0})})),n.lastName.length?u((function(e){return Object(O.a)(Object(O.a)({},e),{},{lastName:!1})})):u((function(e){return Object(O.a)(Object(O.a)({},e),{},{lastName:!0})})),i.email||i.password||i.passwordConfirm||i.firstName||i.lastName||j(function(e,t){return function(){var n=Object(I.a)(S.a.mark((function n(a){var c,s,r,o;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J(e);case 3:201===(c=n.sent).status&&(s=c.data,r=s.token,delete s.token,a({type:"AUTH",payload:{userData:s,token:r}}),V("Registration Successful",Y),t.push("/home")),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),o="",n.t0.response?o=n.t0.response.data.message:n.t0.request?console.log(n.t0.request):console.log("Error",n.t0.message),V(o.length?o:"Something went wrong",Q);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(n,l))};return Object(T.jsx)("div",{className:"sign-up-page",children:Object(T.jsxs)(D.a,{className:"sign-up-page-form",children:[Object(T.jsx)("h3",{className:"sign-up-page-form__heading",children:"Sign Up"}),Object(T.jsx)(D.a.Group,{className:"mb-3 sign-up-page-form__group",controlId:"formNames",children:Object(T.jsxs)(te.a,{children:[Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(D.a.Label,{children:"First Name"}),Object(T.jsx)(D.a.Control,{type:"text",value:n.firstName,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{firstName:e.target.value})}))},isInvalid:i.firstName})]}),Object(T.jsxs)(ne.a,{children:[Object(T.jsx)(D.a.Label,{children:"Last Name"}),Object(T.jsx)(D.a.Control,{type:"text",value:n.lastName,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{lastName:e.target.value})}))},isInvalid:i.lastName})]})]})}),Object(T.jsxs)(D.a.Group,{className:"mb-3 sign-up-page-form__group",controlId:"formEmail",children:[Object(T.jsx)(D.a.Label,{children:"Email"}),Object(T.jsx)(D.a.Control,{type:"text",value:n.email,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{email:e.target.value})}))},isInvalid:i.email})]}),Object(T.jsxs)(D.a.Group,{className:"mb-3 sign-up-page-form__group",controlId:"formPassword",children:[Object(T.jsx)(D.a.Label,{children:"Password"}),Object(T.jsx)(D.a.Control,{type:"password",value:n.password,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{password:e.target.value})}))},isInvalid:i.password})]}),Object(T.jsxs)(D.a.Group,{className:"mb-3 sign-up-page-form__group",controlId:"formPasswordConfirm",children:[Object(T.jsx)(D.a.Label,{children:"Confirm Password"}),Object(T.jsx)(D.a.Control,{type:"password",value:n.passwordConfirm,onChange:function(e){return a((function(t){return Object(O.a)(Object(O.a)({},t),{},{passwordConfirm:e.target.value})}))},isInvalid:i.passwordConfirm})]}),Object(T.jsxs)(ae.a,{children:[Object(T.jsx)(A.a,{variant:"secondary",type:"button",onClick:function(){l.push("/")},children:"Back"}),Object(T.jsx)(A.a,{variant:"primary",type:"button",onClick:function(){return b()},children:"Register"})]})]})})},oe=n(134),ie=n(130),ue=n(136),le=n(133),je=n(131),be=n.p+"static/media/person-light.e9477226.svg",de=function(){var e=Object(o.b)(),t=Object(w.g)(),n=function(){e((function(e){e({type:"LOGOUT"}),V("Log out Successful",Y)})),t.push("/")};return Object(T.jsx)(oe.a,{variant:"dark",bg:"dark",expand:"lg",id:"site-navbar",children:Object(T.jsxs)(ie.a,{className:"ps-2",children:[Object(T.jsx)(oe.a.Brand,{as:"a",href:"/home",children:"Memories"}),Object(T.jsx)(oe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(T.jsx)(oe.a.Collapse,{id:"basic-navbar-nav",children:Object(T.jsx)(ue.a,{className:"ms-auto",children:Object(T.jsxs)(le.a,{children:[Object(T.jsx)(le.a.Toggle,{variant:"dark",id:"dropdown-basic",className:"shadow-non",children:Object(T.jsx)(je.a,{src:be,className:"mb-0"})}),Object(T.jsx)(le.a.Menu,{children:Object(T.jsx)(F.GoogleLogout,{clientId:"863171998753-cvajles56ogr9jqp93jrg0umk5rsk7oh.apps.googleusercontent.com",onLogoutSuccess:function(){return n()},render:function(e){return Object(T.jsx)(le.a.Item,{onClick:e.onClick,disabled:e.disabled,children:"Logout"})}})})]})})})]})})},pe=function(e){var t=e.children;return Object(T.jsxs)("div",{className:"main-layout",children:[Object(T.jsx)("div",{className:"main-layout__header",children:Object(T.jsx)(de,{})}),Object(T.jsx)("div",{className:"main-layout__body container",children:t})]})},Oe=function(e){var t="";e.response?t=e.response.data.message:e.request?console.log(e.request):console.log("Error",e.message),V(t.length?t:"Something went wrong",Q)},me=n(137),fe=function(e){var t=e.x,n=e.y,a=e.number;return Object(T.jsx)("div",{style:{top:n,left:t},className:"pin",children:Object(T.jsx)("span",{children:a})})},he=(n(114),c.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return Object(T.jsxs)("div",{className:"post__header__edit",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:[Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),Object(T.jsx)("div",{}),n]})}))),ge=function(e){var t=e.title,n=e.desc,a=e.isPostLiked,s=e.image,r=e.creator,i=e.containerClass,u=e.id,l=e.setCurrentId,j=e.tags,b=c.a.useState(!1),d=Object(G.a)(b,2),p=d[0],O=d[1],m=c.a.useState(a),f=Object(G.a)(m,2),h=f[0],g=f[1],x=Object(o.b)(),v=function(){x(function(e){return function(){var t=Object(I.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B(e);case 3:n({type:"DELETE_POST",payload:e}),V("Post deleted",Y),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Oe(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(u)),l(null)},N=function(){var e=h;g((function(e){return!e})),x(function(e,t){return function(){var n=Object(I.a)(S.a.mark((function n(a){var c,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,z(e,t);case 3:c=n.sent,s=c.data,a({type:"UPDATE_POST",payload:s}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Oe(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(u,!e))};return Object(T.jsxs)("div",{id:"post",className:"post ".concat(i||""," ").concat(p&&"open"),children:[Object(T.jsxs)("div",{className:"post__header",style:{backgroundSize:"cover",backgroundImage:"url(".concat(s,")"),backgroundPosition:"center"},children:[Object(T.jsxs)(le.a,{children:[Object(T.jsx)(le.a.Toggle,{as:he,id:"dropdown-custom-components"}),Object(T.jsxs)(le.a.Menu,{align:"start",children:[Object(T.jsx)(le.a.Item,{eventKey:"1",onClick:function(){l(u)},children:"Edit"}),Object(T.jsx)(le.a.Item,{eventKey:"2",onClick:function(){return v()},children:"Delete"})]})]}),p&&j.map((function(e,t){return Object(T.jsx)(fe,{x:e.x,y:e.y,number:t+1},t)})),Object(T.jsxs)("div",{id:"post_button",className:"post_open_button",onClick:function(){return O((function(e){return!e}))},children:[Object(T.jsx)("span",{className:"left"}),Object(T.jsx)("span",{className:"right"})]})]}),Object(T.jsxs)("div",{className:"post__body p-3",children:[Object(T.jsx)("h4",{className:"mb-1",children:t}),Object(T.jsx)("h5",{className:"text-muted mb-3",children:r}),Object(T.jsx)("p",{className:"mb-0 pe-2",children:n})]}),Object(T.jsx)("div",{className:"post__footer",children:Object(T.jsx)("div",{className:"post__footer__like d-flex align-items-center",children:Object(T.jsx)("button",{className:"post__footer__like__button ".concat(h&&"liked"),onClick:function(){return N()},children:Object(T.jsxs)("span",{className:"like-icon",children:[Object(T.jsx)("div",{className:"heart-animation-1"}),Object(T.jsx)("div",{className:"heart-animation-2"})]})})})})]})},xe=n(37),ve=n.n(xe),Ne=(n(115),function(){return Object(T.jsxs)("div",{className:"skeleton-post",children:[Object(T.jsx)("div",{className:"skeleton-post__header"}),Object(T.jsxs)("div",{className:"skeleton-post__body p-3",children:[Object(T.jsx)("h4",{className:"mb-1",children:Object(T.jsx)(ve.a,{})}),Object(T.jsx)("h5",{className:"mb-3",children:Object(T.jsx)(ve.a,{})}),Object(T.jsx)("p",{className:"mb-0 pe-2",children:Object(T.jsx)(ve.a,{count:5})})]}),Object(T.jsx)("div",{className:"skeleton-post__footer px-3 pb-1",children:Object(T.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:Object(T.jsx)("span",{style:{width:"30px"},children:Object(T.jsx)(ve.a,{})})})})]})}),ye=(n(119),function(e){var t=e.data,n=e.pageLimit,a=e.dataLimit,s=e.setCurrentId,r=c.a.useState(Math.ceil(t.length/a)),i=Object(G.a)(r,2),u=i[0],l=i[1],j=c.a.useState(1),b=Object(G.a)(j,2),d=b[0],p=b[1],O=Object(o.c)((function(e){return e.posts.isFetching}));c.a.useEffect((function(){l(Math.ceil(t.length/a)),d>u&&1!==d&&p((function(e){return e-1}))}),[t,a,d,u]);return O?Object(T.jsx)("div",{className:"pagination-posts",children:Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(Ne,{}),Object(T.jsx)(Ne,{}),Object(T.jsx)(Ne,{}),Object(T.jsx)(Ne,{})]})}):Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)("div",{className:"pagination-group mb-1",children:t.length?Object(T.jsxs)(me.a,{className:"ms-0 mb-0",children:[Object(T.jsx)(me.a.Prev,{disabled:1===d,onClick:function(){p((function(e){return e-1}))}}),function(){if(u>n){var e=Math.floor((d-1)/n)*n;return new Array(n).fill().map((function(t,n){return e+n+1}))}return new Array(u).fill().map((function(e,t){return t+1}))}().map((function(e,t){return Object(T.jsx)(me.a.Item,{active:e===d,onClick:function(){p(e)},children:e},t)})),Object(T.jsx)(me.a.Next,{disabled:d===u,onClick:function(){p((function(e){return e+1}))}})]}):null}),Object(T.jsx)("div",{className:"pagination-posts",children:t.length?function(){var e=d*a-a,n=e+a;return t.slice(e,n)}().map((function(e,t){return Object(T.jsx)(ge,{title:e.title,desc:e.message,isPostLiked:e.isLiked,image:e.selectedFile,creator:e.creator,id:e._id,setCurrentId:s,tags:e.tags},t)})):null})]})}),_e=n(132),ke=n(72),we=function(e){return new Promise((function(t,n){try{var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}catch(c){console.log(console.error())}}))},Ce=(n(120),function(e){var t=e.setFormData,n=e.currentPost,s=c.a.useState(n?n.selectedFile:null),r=Object(G.a)(s,2),o=r[0],i=r[1],u=c.a.useState(n?n.tags:[]),l=Object(G.a)(u,2),j=l[0],b=l[1],d=c.a.useRef(null),m=Object(a.useCallback)((function(e){e.forEach(function(){var e=Object(I.a)(S.a.mark((function e(n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(n);case 2:a=e.sent,i(a),t((function(e){return Object(O.a)(Object(O.a)({},e),{},{selectedFile:a})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),f=Object(ke.a)({onDrop:m}),h=f.getRootProps,g=f.getInputProps,x=f.isDragActive;return Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)("div",Object(O.a)(Object(O.a)({},h()),{},{children:Object(T.jsx)("input",Object(O.a)(Object(O.a)({},g()),{},{ref:d,accept:"image/*"}))})),Object(T.jsxs)("div",{className:"image_form",children:[Object(T.jsx)("div",{className:"image_container ".concat(o&&"uploaded"),children:o&&Object(T.jsx)(c.a.Fragment,{children:Object(T.jsx)("div",{style:{backgroundImage:"url(".concat(o,")"),backgroundSize:"cover",backgroundPosition:"center center"},className:"image",onClick:function(e){return function(e){if("image"===e.target.id){var n=e.target.getBoundingClientRect(),a=e.clientX-n.left+20,c=e.clientY-n.top+5;if(j.length<9){var s=[].concat(Object(p.a)(j),[{x:a,y:c}]);b(s),t((function(e){return Object(O.a)(Object(O.a)({},e),{},{tags:s})}))}}}(e)},id:"image",children:j.map((function(e,t){return Object(T.jsx)(fe,{x:e.x,y:e.y,number:t+1},t)}))})})}),Object(T.jsxs)("p",{className:"text-muted mb-2",children:[Object(T.jsx)("span",{className:"h5",children:"Note: "})," Click anywhere on the image to add a tag."]}),Object(T.jsx)("div",{className:"custom_button",onClick:function(){return d.current.click()},children:x?Object(T.jsx)("p",{children:"Drop the files here ..."}):Object(T.jsxs)("p",{className:"mb-0",children:["Drop your image here, or"," ",Object(T.jsx)("span",{className:"browse-text",children:"browse"})]})})]})]})}),Te={creator:"Surya K",message:"",title:"",selectedFile:"",tags:[]},Pe={title:!1,message:!1},Le=function(e){var t=e.currentPost,n=e.setCurrentId,a=Object(o.c)((function(e){return e.posts.isCreatingPost})),s=Object(o.c)((function(e){return e.posts.isUpdatingPost})),r=c.a.useState(Te),i=Object(G.a)(r,2),u=i[0],l=i[1],j=c.a.useState(Pe),b=Object(G.a)(j,2),d=b[0],p=b[1],m=c.a.useState(0),f=Object(G.a)(m,2),h=f[0],g=f[1];c.a.useEffect((function(){l(Object(O.a)(Object(O.a)({},Te),{},{message:t?t.message:"",title:t?t.title:"",selectedFile:t?t.selectedFile:"",tags:t?t.tags:[]}))}),[t]);var x=Object(o.b)(),v=function(){var e;x((e=u,function(){var t=Object(I.a)(S.a.mark((function t(n){var a,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"TOGGLE_CREATE_POST_LOADING"}),t.next=4,s=e,q.post("/posts",s);case 4:a=t.sent,c=a.data,n({type:"CREATE_POST",payload:c}),V("Post created!",Y),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Oe(t.t0);case 13:return t.prev=13,n({type:"TOGGLE_CREATE_POST_LOADING"}),t.finish(13);case 16:case"end":return t.stop()}var s}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}())),y()},N=function(){var e,n;x((e=t._id,n=u,function(){var t=Object(I.a)(S.a.mark((function t(a){var c,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"TOGGLE_UPDATE_POST_LOADING"}),t.next=4,H(e,n);case 4:c=t.sent,s=c.data,a({type:"UPDATE_POST",payload:s}),V("Post details have been updated",Y),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Oe(t.t0);case 13:return t.prev=13,a({type:"TOGGLE_UPDATE_POST_LOADING"}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}())),y()},y=function(){l(Te),p(Pe),n(null),setTimeout((function(){g(0)}),1e3)};return Object(T.jsxs)(D.a,{children:[0===h&&Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{className:"mb-3",children:t?"Edit a post":"Create a post!"}),Object(T.jsxs)(D.a.Group,{className:"mb-3",controlId:"formTitle",children:[Object(T.jsx)(D.a.Label,{children:"Title"}),Object(T.jsx)(D.a.Control,{type:"text",value:u.title,onChange:function(e){return l((function(t){return Object(O.a)(Object(O.a)({},t),{},{title:e.target.value})}))},isInvalid:d.title}),Object(T.jsx)(D.a.Text,{className:"text-muted",children:"Eyecatching title for your post!"})]}),Object(T.jsxs)(D.a.Group,{className:"mb-3",controlId:"formMessage",children:[Object(T.jsx)(D.a.Label,{children:"Message"}),Object(T.jsx)(D.a.Control,{style:{resize:"none"},as:"textarea",rows:5,value:u.message,onChange:function(e){return l((function(t){return Object(O.a)(Object(O.a)({},t),{},{message:e.target.value})}))},isInvalid:d.message}),Object(T.jsx)(D.a.Text,{className:"text-muted",children:"Describe your awesome experience."})]}),Object(T.jsxs)(ae.a,{children:[t?Object(T.jsx)(A.a,{variant:"secondary",type:"button",className:"me-2",onClick:function(){return n(null)},children:"Cancel"}):null,Object(T.jsx)(A.a,{variant:"primary",type:"button",className:"",onClick:function(){return u.title.length?p((function(e){return Object(O.a)(Object(O.a)({},e),{},{title:!1})})):p((function(e){return Object(O.a)(Object(O.a)({},e),{},{title:!0})})),u.message.length?p((function(e){return Object(O.a)(Object(O.a)({},e),{},{message:!1})})):p((function(e){return Object(O.a)(Object(O.a)({},e),{},{message:!0})})),void(d.title||d.message||g(1))},children:"Next"})]})]}),1===h&&Object(T.jsxs)("div",{className:"d-flex flex-column justify-content-end",children:[Object(T.jsx)("h3",{className:"mb-4",children:t?"Update your image and tags":"Add an image! (and some tags?)"}),Object(T.jsx)(Ce,{setFormData:l,currentPost:t}),Object(T.jsxs)(ae.a,{children:[Object(T.jsx)(A.a,{variant:"secondary",type:"button",onClick:function(){return g(0)},className:"me-2",children:"Back"}),t?Object(T.jsx)(A.a,{variant:"primary",type:"button",onClick:function(){return N()},disabled:s,children:s?Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(_e.a,{animation:"border",variant:"light",size:"sm"})," ","Updating..."]}):"Update"}):Object(T.jsx)(A.a,{variant:"primary",type:"button",onClick:function(){return v()},disabled:a,children:a?Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(_e.a,{animation:"border",variant:"light",size:"sm"})," ","Posting..."]}):"Submit"})]})]})]})},Ee=function(){var e=c.a.useState(null),t=Object(G.a)(e,2),n=t[0],a=t[1],s=Object(o.b)(),r=Object(o.c)((function(e){return e.posts.posts})),i=Object(o.c)((function(e){return e.posts.posts.find((function(e){return e._id===n}))}));return c.a.useEffect((function(){s(function(){var e=Object(I.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"TOGGLE_FETCH_LOADING"}),e.next=4,q.get("/posts");case 4:n=e.sent,a=n.data,t({type:"FETCH_POSTS",payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Oe(e.t0);case 12:return e.prev=12,t({type:"TOGGLE_FETCH_LOADING"}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),Object(T.jsx)(pe,{children:Object(T.jsxs)("div",{className:"home-page row align-items-center justify-content-between",children:[Object(T.jsx)("div",{className:"col-auto",children:Object(T.jsx)(ye,{data:r,pageLimit:3,dataLimit:4,setCurrentId:a})}),Object(T.jsx)("div",{className:"col-4",children:Object(T.jsx)(Le,{currentPost:i,setCurrentId:a})})]})})},Se=(n(121),function(){return Object(T.jsx)(k.a,{children:Object(T.jsxs)(w.d,{children:[Object(T.jsx)(L,{path:"/home",component:Ee}),Object(T.jsx)(w.b,{path:"/signup",component:re}),Object(T.jsx)(w.b,{path:"/",component:ee})]})})});n(122);r.a.render(Object(T.jsx)(o.a,{store:y,children:Object(T.jsxs)(i.a,{persistor:_,children:[Object(T.jsx)(W,{}),Object(T.jsx)(Se,{})]})}),document.getElementById("root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.4ba38727.chunk.js.map